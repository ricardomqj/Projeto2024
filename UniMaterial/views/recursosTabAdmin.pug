doctype html
html(lang="en")
  head
    meta(charset="utf-8")
    meta(name="viewport" content="width=device-width, initial-scale=1")
    title Recursos Page
    link(rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css")
    link(rel="stylesheet" href="/styles.css")
    script.
      document.addEventListener('DOMContentLoaded', function() {
        document.querySelectorAll('tr[data-href]').forEach(row => {
          row.addEventListener('click', function() {
            window.location.href = this.dataset.href;
          });
        });
      });
  body
    .container
      header.header
        h1 Welcome to the Resource Dashboard Admin!
        p Here you can find a list of all resources registered in our system.
        
        // Barra de pesquisa
        .search-bar
          form(method="GET" action="/recursos")
            input(type="text" name="autor" placeholder="Pesquisar por nome do autor")
            button(type="submit") Pesquisar

      table.table.table-hover
        thead
          tr
            th Autor
            th Nome
            th Tema
            td= recurso.avaliacao.length > 0 ? (recurso.avaliacao.reduce((acc, nota) => acc + nota, 0) / recurso.avaliacao.length).toFixed(1) : "Sem avaliações"